<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        
        {% block stylesheets %}
        <link rel="stylesheet" type="text/css" href="{{ asset('css/bootstrap.min.css') }}">
        {% endblock %}
    </head>
    <body>
    	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		  <a class="navbar-brand" href="#">Navbar</a>
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		    <span class="navbar-toggler-icon"></span>
		  </button>

		  <div class="collapse navbar-collapse" id="navbarSupportedContent">
		    <ul class="navbar-nav mr-auto">
		      <li class="nav-item active">
		        <a class="nav-link" href="{{ path('home') }}">Home <span class="sr-only">(current)</span></a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{{ path('addArticle') }}">Ajouter un article</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{{ path('articles') }}">liste des articles</a>
              </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{{ path('addCategorie') }}">Ajouter une catégorie</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{{ path('categories') }}">liste des catégories</a>
              </li>
              {# crée un lien vers la page admin si on a le role admin #}
              {% if is_granted('ROLE_ADMIN') %}              
			      <li class="nav-item">
			        <a class="nav-link" href="{{ path('admin') }}">Admin</a>
	              </li>
              {% endif %}
              {# liens login si je ne suis pas connecté ou logout si je suis connecté #}
              {% if not is_granted('IS_AUTHENTICATED_FULLY') %}
              	  {# je ne suis pas connecté #}
              	  <li class="nav-item">
			        <a class="nav-link" href="{{ path('app_login') }}">login</a>
	              </li>
	          {% else %}
	          	  {# je suis connecté #}
              	  <li class="nav-item">
			        <a class="nav-link" href="{{ path('logout') }}">logout</a>
	              </li>
	          {% endif %}
		  </ul>
		</div>
	</nav>

        {% block body %}{% endblock %}
        
        {% block javascripts %}
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="{{ asset('js/bootstrap.min.js') }}"></script>
        {% endblock %}
    </body>
</html>
